В данном файле будет изложена документация по сервису

# Начала
Данный сервис способен принимать сообщения, приходящие по smpp протоколу и отсылать это же сообщение на ватцап (дальше wa), с помощью апи isender.org. Данный функционал выполняется в сервисе smpp_core, код которого находится в одноименной папке.

## Немного о smpp протоколе
SMPP протокол (не путать с SMTP - почтовым протоколом) - это протокол передачи sms сообщений через интернет посредством sms серверов. Грубо говоря, если вам нужно отправить sms, но вы не хотите делать сложное устройство с антеной которое подключается к вышкам сотовой связи, вы идете к поставщику услуг и отправляете ему данные: ваш номер телефона, номер телефона получателя sms и сам текст sms. Помимо этого вы отправляете логин и пароль, которые выдаются поставщиком услуг.
## Почему был выбран именно smpp протокол?
Я не знаю, он используется в ПО заказчика, если бы не smpp протокол, я бы заказ не получил

# Развитие в микросервисы
Впоследствии появилась необходимость в нескольких пользователях (связках логин:пароль:api_ключ_isender), а также в админке, которая следила бы за всей системой и отправляла бы логи.
Было принято решение делать 3 микросервиса:
* smpp_core - то самое ядро, вокруг которого строится весь сервис. Он единственный работает с поступающими запросами на отправку сообщений. Для проверки связки логин:пароль:api_ключ_isender smpp_core обращается к сервису mongo_db по внутреннему flask api mongo_db
* mongo_db - умеет работать с запущенной в отдельном контейнере mongodb базой данных. Данный сервис отвечает за аутенцификацию пользователей, которые приходят в smpp_core. Smpp_core обращается к mongo_db сервису по внутреннему апи, а mongo_db проверяет есть ли тот или иной пользователь в бд: если есть, то обратно посылает api ключ isender аккаунта. Если пользователя нет в бд, то посылает ответ, что такого пользователя нет.
    Также с помощью mongo_db сервиса можно будет добавлять или удалять пользователей, smpp_core будет посылать приходящие сообщения и дополнять эти записи в бд статусами об отправке этих сообщений.
    Всю эту логику можно было бы прописать в smpp_core, если бы не нужна была админка. Планируется, что в бд будут храниться все сообщения, а также статусы об их доставке или ошибке. Частота отправки сообщений конкретного пользователя и иная информация. Поэтому логичнее всего разделить логику работы с бд не на 2 микросервиса (smpp_core и админка), а на 3, включая еще и сервис работы с бд
* admin_panel - не факт, что я ее сделал, но вот что планировалось: я не фронтендер и мы с заказчиком договорились на то, чтобы я сделать апи, которое сообщало бы какие сообщения отправлялись и их статусы. Вся эта логика внешнего апи сервиса должна быть прописана здесь.

В итоге должна получится микросервис, который запускается по команде `docker compose up`, имеет статусы о своей работе, все логи сохраняет в одну папку logs, имеет внешнее апи админки и внутреннее апи бд (mongo_db сервиса), по которому smpp_core и админка общаются с бд, а еще и может уведомление отправить через апи админки, если что-то пошло не так.


